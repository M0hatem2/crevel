import{d as j,f as V}from"./chunk-VWVY3PMQ.js";import{a as A}from"./chunk-DQIHD3SX.js";import{b as E,c as T,f as L}from"./chunk-E3PR7NZM.js";import{j as S,k as F,o as D}from"./chunk-KT27TMF4.js";import{$ as u,Ab as c,Bb as P,Cb as I,Da as l,Ja as v,Pa as O,Q as k,U as M,Ua as b,aa as p,db as s,eb as r,fb as a,gb as g,mb as _,qb as x,r as w,sb as d,yb as y,za as h}from"./chunk-IGH6FCT7.js";var C=class i{constructor(e){this.http=e}apiUrl=L.apiUrl;getPortfolioItems(e="ar",t=!0){let o=new E().set("lang",e).set("seeMore",t.toString());return this.http.get(`${this.apiUrl}/portfolio`,{params:o}).pipe(w(n=>n.data.data))}getPortfolioById(e){return this.http.get(`${this.apiUrl}/portfolio/${e}`)}static \u0275fac=function(t){return new(t||i)(M(T))};static \u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"})};function N(i,e){i&1&&(r(0,"div",6),g(1,"app-loading-spinner"),a())}function z(i,e){if(i&1){let t=_();r(0,"div",7),g(1,"i",8),r(2,"h2",9),c(3,"Error"),a(),r(4,"p",10),c(5),a(),r(6,"button",11),x("click",function(){u(t);let n=d();return p(n.retryLoadPortfolio())}),c(7," Try Again "),a()()}if(i&2){let t=d();l(5),P(t.errorMessage)}}function H(i,e){i&1&&(r(0,"div",30),g(1,"div",31),a())}function $(i,e){i&1&&(r(0,"div",32),g(1,"i",33),r(2,"p"),c(3,"Failed to load image"),a()())}function Y(i,e){if(i&1){let t=_();r(0,"button",34),x("click",function(){u(t);let n=d(3);return p(n.prevImage())}),g(1,"i",35),a()}}function q(i,e){if(i&1){let t=_();r(0,"button",36),x("click",function(){u(t);let n=d(3);return p(n.nextImage())}),g(1,"i",37),a()}}function G(i,e){if(i&1){let t=_();r(0,"div",40),x("click",function(){let n=u(t).index,m=d(4);return p(m.goToImage(n))}),a()}if(i&2){let t=e.index,o=d(4);y("bg-[#00FFC6]",o.isImageActive(t))("bg-white/40",!o.isImageActive(t))}}function J(i,e){if(i&1&&(r(0,"div",38),b(1,G,1,4,"div",39),a()),i&2){let t=d(3);l(),s("ngForOf",t.allImages)}}function K(i,e){if(i&1){let t=_();r(0,"div",22)(1,"p",23),c(2),a(),r(3,"img",24),x("load",function(){let n;u(t);let m=d(2);return p(m.onImageLoad(((n=m.getCurrentImage())==null?null:n.secure_url)||""))})("error",function(){let n;u(t);let m=d(2);return p(m.onImageError(((n=m.getCurrentImage())==null?null:n.secure_url)||""))}),a(),b(4,H,2,0,"div",25)(5,$,4,0,"div",26)(6,Y,2,0,"button",27)(7,q,2,0,"button",28)(8,J,2,1,"div",29),a()}if(i&2){let t,o,n,m,f=d(2);l(2),I(" ",f.portfolioItem.category," "),l(),s("src",(t=f.getCurrentImage())==null?null:t.secure_url,h)("alt",((o=f.getCurrentImage())==null?null:o.public_id)||"Portfolio image"),l(),s("ngIf",f.imageLoadingStates[((n=f.getCurrentImage())==null?null:n.secure_url)||""]),l(),s("ngIf",f.imageErrorStates[((m=f.getCurrentImage())==null?null:m.secure_url)||""]),l(),s("ngIf",f.allImages.length>1),l(),s("ngIf",f.allImages.length>1),l(),s("ngIf",f.allImages.length>1)}}function Q(i,e){if(i&1){let t=_();r(0,"div",43),x("click",function(){let n=u(t).index,m=d(3);return p(m.goToImage(n))}),g(1,"img",44),a()}if(i&2){let t=e.$implicit,o=e.index,n=d(3);y("border-[#00FFC6]",n.isImageActive(o))("border-white/20",!n.isImageActive(o)),l(),s("src",t.secure_url,h)}}function W(i,e){if(i&1&&(r(0,"div",41),b(1,Q,2,5,"div",42),a()),i&2){let t=d(2);l(),s("ngForOf",t.allImages)}}function X(i,e){if(i&1&&(r(0,"a",48),g(1,"i",49),r(2,"span"),c(3,"Live Demo"),a()()),i&2){let t=d(3);s("href",t.portfolioItem.productionUrl,h)}}function Z(i,e){if(i&1&&(r(0,"a",50),g(1,"i",51),r(2,"span"),c(3,"Source Code"),a()()),i&2){let t=d(3);s("href",t.portfolioItem.githubRepo,h)}}function tt(i,e){if(i&1&&(r(0,"div",45),b(1,X,4,1,"a",46)(2,Z,4,1,"a",47),a()),i&2){let t=d(2);l(),s("ngIf",t.portfolioItem.productionUrl),l(),s("ngIf",t.portfolioItem.githubRepo)}}function et(i,e){if(i&1){let t=_();r(0,"div",12),b(1,K,9,8,"div",13)(2,W,2,1,"div",14),r(3,"div",15)(4,"h1",16),c(5),a(),r(6,"p",17),c(7),a()(),b(8,tt,3,2,"div",18),r(9,"div",19)(10,"button",20),x("click",function(){u(t);let n=d();return p(n.goBack())}),g(11,"i",21),r(12,"span"),c(13,"Back to Portfolio"),a()()()()}if(i&2){let t=d();l(),s("ngIf",t.hasImages()),l(),s("ngIf",t.allImages.length>1),l(3),I(" ",t.getCurrentTitle(t.portfolioItem)," "),l(2),I(" ",t.getCurrentDescription(t.portfolioItem)," "),l(),s("ngIf",t.portfolioItem.productionUrl||t.portfolioItem.githubRepo)}}function it(i,e){if(i&1){let t=_();r(0,"div",52),g(1,"i",53),r(2,"h2",54),c(3,"Project Not Found"),a(),r(4,"p",10),c(5),a(),r(6,"button",11),x("click",function(){u(t);let n=d();return p(n.goBack())}),c(7," Back to Portfolio "),a()()}if(i&2){let t=d();l(5),P(t.errorMessage)}}var R=class i{constructor(e,t,o){this.route=e;this.router=t;this.portfolioService=o}portfolioItem=null;loading=!1;errorMessage="";selectedLanguage="ar";allImages=[];currentImageIndex=0;imageLoadingStates={};imageErrorStates={};ngOnInit(){let e=localStorage.getItem("lang");this.selectedLanguage=e||"ar",this.route.params.subscribe(t=>{let o=t.id;o?this.loadPortfolioItem(o):this.errorMessage="Portfolio ID not found"})}loadPortfolioItem(e){this.loading=!0,this.errorMessage="",this.portfolioService.getPortfolioById(e).subscribe({next:t=>{t&&t.data?this.portfolioItem={_id:t.data._id,title_en:t.data.title_en,title_ar:t.data.title_ar||t.data.title_en,description_en:t.data.description_en,description_ar:t.data.description_ar||t.data.description_en,category:t.data.category,category_en:t.data.category_en||t.data.category,category_ar:t.data.category_ar||t.data.category,image:t.data.image,gallery:t.data.gallery||[],productionUrl:t.data.productionUrl,githubRepo:t.data.githubRepo,addedBy:{fullName:"Unknown",profilePic:"",email:"",role:"user"}}:this.errorMessage="Portfolio item not found",this.loading=!1,this.portfolioItem&&this.createAllImagesArray()},error:t=>{this.errorMessage="Failed to load portfolio item",this.loading=!1,console.error("Error loading portfolio item:",t)}})}getCurrentTitle(e){return e?this.selectedLanguage==="en"?e.title_en:e.title_ar||e.title_en:""}getCurrentDescription(e){return e?this.selectedLanguage==="en"?e.description_en:e.description_ar||e.description_en:""}goBack(){this.router.navigate(["/portfolio"])}viewProjectDetails(e){e&&this.router.navigate(["/portfolio",e])}trackByIndex(e){return e}trackById(e,t){return t._id||e.toString()}retryLoadPortfolio(){this.route.params.subscribe(e=>{let t=e.id;t&&this.loadPortfolioItem(t)})}createAllImagesArray(){if(!this.portfolioItem){this.allImages=[];return}this.allImages=[],this.portfolioItem.image&&this.allImages.push(this.portfolioItem.image),this.portfolioItem.gallery&&this.portfolioItem.gallery.length>0&&this.allImages.push(...this.portfolioItem.gallery),this.imageLoadingStates={},this.imageErrorStates={},this.allImages.forEach(e=>{this.imageLoadingStates[e.secure_url]=!0,this.imageErrorStates[e.secure_url]=!1})}onImageLoad(e){this.imageLoadingStates[e]=!1}onImageError(e){this.imageLoadingStates[e]=!1,this.imageErrorStates[e]=!0}goToImage(e){e>=0&&e<this.allImages.length&&(this.currentImageIndex=e)}nextImage(){this.currentImageIndex<this.allImages.length-1?this.currentImageIndex++:this.currentImageIndex=0}prevImage(){this.currentImageIndex>0?this.currentImageIndex--:this.currentImageIndex=this.allImages.length-1}isImageActive(e){return e===this.currentImageIndex}getCurrentImage(){return this.allImages.length>0?this.allImages[this.currentImageIndex]:null}hasImages(){return this.allImages.length>0}static \u0275fac=function(t){return new(t||i)(v(j),v(V),v(C))};static \u0275cmp=O({type:i,selectors:[["app-portfolio-detail-card"]],decls:6,vars:4,consts:[[1,"min-h-screen","py-12","px-4","sm:px-6","lg:px-8","text-white","arabic-font"],[1,"max-w-7xl","mx-auto","space-y-10"],["class","flex items-center justify-center min-h-[400px]",4,"ngIf"],["class","bg-[#101a19] rounded-2xl shadow-2xl p-10 text-center border border-[#1e2f2d]/40",4,"ngIf"],["class","  rounded-3xl p-6 md:p-10 shadow-2xl border border-[#1e2f2d]/40 relative overflow-hidden",4,"ngIf"],["class","bg-[#101a19] rounded-2xl shadow-xl p-10 text-center border border-[#1e2f2d]/40 ",4,"ngIf"],[1,"flex","items-center","justify-center","min-h-[400px]"],[1,"bg-[#101a19]","rounded-2xl","shadow-2xl","p-10","text-center","border","border-[#1e2f2d]/40"],[1,"fa-solid","fa-triangle-exclamation","text-5xl","text-red-500","mb-4"],[1,"text-2xl","font-bold","mb-3"],[1,"text-gray-400","mb-6"],[1,"px-6","py-3","bg-gradient-to-r","from-[#00FFC6]","to-[#06b6d4]","text-[#0d1413]","rounded-xl","font-semibold","hover:opacity-90","transition-all",3,"click"],[1,"rounded-3xl","p-6","md:p-10","shadow-2xl","border","border-[#1e2f2d]/40","relative","overflow-hidden"],["class","relative group rounded-2xl overflow-hidden shadow-xl",4,"ngIf"],["class","mt-6 flex justify-center gap-3 overflow-x-auto scrollbar-hide",4,"ngIf"],[1,"mt-8","text-center"],[1,"text-3xl","md:text-4xl","font-bold","text-[#00FFC6]","mb-2"],[1,"text-gray-400","max-w-3xl","mx-auto"],["class","mt-8 flex flex-col sm:flex-row justify-center gap-4",4,"ngIf"],[1,"mt-8","text-center","justify-center","flex"],[1,"flex","items-center","justify-center","gap-2","px-8","py-4","bg-white/10","border","border-white/20","text-white","rounded-xl","font-semibold","hover:bg-white/20","hover:-translate-y-1","transition-all",3,"click"],[1,"fas","fa-arrow-left"],[1,"relative","group","rounded-2xl","overflow-hidden","shadow-xl"],[1,"absolute","top-4","right-4","px-4","py-2","rounded-full","bg-gradient-to-r","from-[#173b3c]","to-[#06b6d4]","text-sm","font-semibold","shadow-lg"],[1,"w-full","h-[350px]","md:h-[500px]","object-cover","transition-transform","duration-700","ease-in-out","group-hover:scale-105","rounded-2xl",3,"load","error","src","alt"],["class","absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-sm",4,"ngIf"],["class","absolute inset-0 flex flex-col items-center justify-center bg-black/60 text-gray-300",4,"ngIf"],["type","button","class","absolute left-5 top-1/2 -translate-y-1/2 bg-[#0d1413]/60 hover:bg-[#00FFC6]/30 backdrop-blur-lg w-12 h-12 flex items-center justify-center rounded-full shadow-lg transition-all",3,"click",4,"ngIf"],["type","button","class","absolute right-5 top-1/2 -translate-y-1/2 bg-[#0d1413]/60 hover:bg-[#00FFC6]/30 backdrop-blur-lg w-12 h-12 flex items-center justify-center rounded-full shadow-lg transition-all",3,"click",4,"ngIf"],["class","absolute bottom-5 left-1/2 -translate-x-1/2 flex gap-2",4,"ngIf"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black/40","backdrop-blur-sm"],[1,"animate-spin","rounded-full","h-12","w-12","border-4","border-t-transparent","border-[#00FFC6]"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center","bg-black/60","text-gray-300"],[1,"fa-solid","fa-image","text-5xl","mb-3"],["type","button",1,"absolute","left-5","top-1/2","-translate-y-1/2","bg-[#0d1413]/60","hover:bg-[#00FFC6]/30","backdrop-blur-lg","w-12","h-12","flex","items-center","justify-center","rounded-full","shadow-lg","transition-all",3,"click"],[1,"fas","fa-chevron-left","text-white","text-lg"],["type","button",1,"absolute","right-5","top-1/2","-translate-y-1/2","bg-[#0d1413]/60","hover:bg-[#00FFC6]/30","backdrop-blur-lg","w-12","h-12","flex","items-center","justify-center","rounded-full","shadow-lg","transition-all",3,"click"],[1,"fas","fa-chevron-right","text-white","text-lg"],[1,"absolute","bottom-5","left-1/2","-translate-x-1/2","flex","gap-2"],["class","w-3 h-3 rounded-full cursor-pointer transition-all",3,"bg-[#00FFC6]","bg-white/40","click",4,"ngFor","ngForOf"],[1,"w-3","h-3","rounded-full","cursor-pointer","transition-all",3,"click"],[1,"mt-6","flex","justify-center","gap-3","overflow-x-auto","scrollbar-hide"],["class","w-20 h-20 rounded-xl overflow-hidden border-2 transition-all cursor-pointer",3,"border-[#00FFC6]","border-white/20","click",4,"ngFor","ngForOf"],[1,"w-20","h-20","rounded-xl","overflow-hidden","border-2","transition-all","cursor-pointer",3,"click"],[1,"w-full","h-full","object-cover","hover:scale-105","transition-transform",3,"src"],[1,"mt-8","flex","flex-col","sm:flex-row","justify-center","gap-4"],["target","_blank","class","flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-[#00FFC6] to-[#06b6d4] text-[#0d1413] rounded-xl font-semibold shadow-md hover:scale-105 transition-all",3,"href",4,"ngIf"],["target","_blank","class","flex items-center justify-center gap-2 px-6 py-3 bg-[#101a19] text-white rounded-xl font-semibold shadow-md hover:bg-[#173b3c] hover:scale-105 transition-all",3,"href",4,"ngIf"],["target","_blank",1,"flex","items-center","justify-center","gap-2","px-6","py-3","bg-gradient-to-r","from-[#00FFC6]","to-[#06b6d4]","text-[#0d1413]","rounded-xl","font-semibold","shadow-md","hover:scale-105","transition-all",3,"href"],[1,"fas","fa-globe"],["target","_blank",1,"flex","items-center","justify-center","gap-2","px-6","py-3","bg-[#101a19]","text-white","rounded-xl","font-semibold","shadow-md","hover:bg-[#173b3c]","hover:scale-105","transition-all",3,"href"],[1,"fab","fa-github"],[1,"bg-[#101a19]","rounded-2xl","shadow-xl","p-10","text-center","border","border-[#1e2f2d]/40"],[1,"fa-solid","fa-magnifying-glass","text-5xl","text-[#00FFC6]","mb-4"],[1,"text-2xl","font-semibold","mb-2"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1),b(2,N,2,0,"div",2)(3,z,8,1,"div",3)(4,et,14,5,"div",4)(5,it,8,1,"div",5),a()()),t&2&&(l(2),s("ngIf",o.loading),l(),s("ngIf",o.errorMessage&&!o.loading),l(),s("ngIf",o.portfolioItem&&!o.loading&&!o.errorMessage),l(),s("ngIf",!o.portfolioItem&&!o.loading&&o.errorMessage))},dependencies:[D,S,F,A],styles:['.portfolio-carousel[_ngcontent-%COMP%]   .carousel-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;border-radius:.5rem}.portfolio-carousel[_ngcontent-%COMP%]   .carousel-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:opacity .3s ease-in-out}.portfolio-carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.portfolio-carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.portfolio-carousel[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:theme("colors.blue.600")!important;transform:scale(1.1)}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:theme("colors.gray.200");border-radius:2px}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:theme("colors.gray.400");border-radius:2px}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:theme("colors.gray.500")}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-item[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-item.active[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 0 0 2px theme("colors.blue.500")}.portfolio-carousel[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.portfolio-carousel[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,theme("colors.gray.100"),theme("colors.gray.200"))}.portfolio-carousel[_ngcontent-%COMP%]   .no-images-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,theme("colors.gray.50"),theme("colors.gray.100"))}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dark[_ngcontent-%COMP%]   .portfolio-carousel[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%], .dark[_ngcontent-%COMP%]   .portfolio-carousel[_ngcontent-%COMP%]   .no-images-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,theme("colors.gray.800"),theme("colors.gray.700"))}@media (max-width: 768px){.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-strip[_ngcontent-%COMP%]{padding-bottom:.5rem}.portfolio-carousel[_ngcontent-%COMP%]   .thumbnail-item[_ngcontent-%COMP%]{width:3rem;height:3rem}}']})};export{R as PortfolioDetailCard};
