import{c as R,d as j}from"./chunk-SWGBIMMQ.js";import{a as H}from"./chunk-DQIHD3SX.js";import{a as P,c as B,f as F}from"./chunk-E3PR7NZM.js";import{j as k,k as D,o as N}from"./chunk-KT27TMF4.js";import{$ as w,Ab as o,Bb as x,Cb as d,Da as n,Db as T,Ja as O,L as y,M as I,Mb as m,Nb as p,Pa as E,Q as U,U as S,Ua as f,aa as A,db as c,eb as r,fb as a,gb as l,j as h,mb as M,o as C,qb as b,sb as g,z as _}from"./chunk-IGH6FCT7.js";var u=class i{constructor(e){this.http=e}apiUrl=`${F.apiUrl}`;getContactUs(){let e=`${this.apiUrl}/admin/contactUs`;return console.log("AdminContactUsService: Making request to:",e),this.http.get(e+"?seeMore=true",{headers:new P(this.getAuthHeaders())}).pipe(I(t=>{console.log("AdminContactUsService: Response received:",t)}),_(t=>(console.error("AdminContactUsService: Error occurred:",t),C(()=>t))))}getAuthHeaders(){let e=localStorage.getItem("token");return e?{Authorization:`Access ${e}`}:{}}static \u0275fac=function(t){return new(t||i)(S(B))};static \u0275prov=U({token:i,factory:i.\u0275fac,providedIn:"root"})};function L(i,e){i&1&&l(0,"i",12)}function z(i,e){i&1&&l(0,"i",13)}function Y(i,e){i&1&&(r(0,"div",14),l(1,"app-loading-spinner"),a())}function q(i,e){if(i&1){let t=M();r(0,"div",15),l(1,"i",16),r(2,"p",17),o(3),a(),r(4,"button",18),b("click",function(){w(t);let v=g();return A(v.onRefresh())}),o(5),m(6,"translate"),a()()}if(i&2){let t=g();n(3),x(t.error),n(2),d(" ",p(6,2,"BUTTONS.TRY_AGAIN")," ")}}function J(i,e){i&1&&(r(0,"div",22),l(1,"i",23),r(2,"h3",24),o(3),m(4,"translate"),a(),r(5,"p",25),o(6),m(7,"translate"),a()()),i&2&&(n(3),d(" ",p(4,2,"ADMIN.CONTACT_US.NO_MESSAGES")," "),n(3),d(" ",p(7,4,"ADMIN.CONTACT_US.NO_MESSAGES_DESC")," "))}function K(i,e){if(i&1&&(r(0,"div",26)(1,"div",27)(2,"div",2)(3,"div",28)(4,"span",29),o(5),a()(),r(6,"div")(7,"h3",30),o(8),a(),r(9,"p",31),l(10,"i",32),o(11),a()()(),r(12,"div",33)(13,"div",34),o(14),a(),r(15,"div",35),o(16),a()()(),r(17,"div",36)(18,"div",37)(19,"div")(20,"label",38),o(21),m(22,"translate"),a(),r(23,"div",39),l(24,"i",40),o(25),a()(),r(26,"div")(27,"label",38),o(28),m(29,"translate"),a(),r(30,"div",41),o(31),a()()(),r(32,"div")(33,"label",42),o(34),m(35,"translate"),a(),r(36,"div",43),o(37),a()()()()),i&2){let t=e.$implicit,s=g(2);n(5),x(s.getInitials(t.name)),n(3),T(" ",t.name," ",t.name2," "),n(3),d("",t.email," "),n(3),d(" #",t._id.slice(-8)," "),n(2),x(s.formatDate(t.createdAt)),n(5),d(" ",p(22,12,"ADMIN.CONTACT_US.PHONE")," "),n(4),d(" ",t.phoneNumber," "),n(3),d(" ",p(29,14,"ADMIN.CONTACT_US.SERVICE")," "),n(3),d(" ",t.service," "),n(3),d(" ",p(35,16,"ADMIN.CONTACT_US.MESSAGE")," "),n(3),d(" ",t.message," ")}}function Q(i,e){if(i&1&&(r(0,"div",19),f(1,J,8,6,"div",20)(2,K,38,18,"div",21),a()),i&2){let t=g();n(),c("ngIf",t.contactUsData.length===0),n(),c("ngForOf",t.contactUsData)("ngForTrackBy",t.trackByContactId)}}var $=class i{constructor(e){this.adminContactUsService=e}destroy$=new h;contactUsData=[];loading=!1;error=null;ngOnInit(){this.loadContactUsData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadContactUsData(){this.loading=!0,this.error=null,this.adminContactUsService.getContactUs().pipe(y(this.destroy$)).subscribe({next:e=>{this.contactUsData=e.allContactUs.data,this.loading=!1},error:e=>{this.error="\u0641\u0634\u0644 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0631\u0633\u0627\u0626\u0644 \u0627\u0644\u062A\u0648\u0627\u0635\u0644. \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.",this.loading=!1,console.error("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0648\u0627\u0635\u0644:",e)}})}onRefresh(){this.loadContactUsData()}trackByContactId(e,t){return t._id}getInitials(e){return e.split(" ").map(t=>t.charAt(0).toUpperCase()).slice(0,2).join("")}formatDate(e){return new Date(e).toLocaleDateString("ar-SA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",calendar:"gregory"})}static \u0275fac=function(t){return new(t||i)(O(u))};static \u0275cmp=E({type:i,selectors:[["app-admin-contact-us"]],decls:16,vars:12,consts:[[1,"min-h-screen","text-gray-100","p-6","arabic-font"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","mb-10","gap-4"],[1,"flex","items-center"],[1,"bg-gradient-to-r","from-[#57c4c1]","to-[#2b8381]","rounded-lg","p-3","mr-4","shadow-lg","shadow-[#57c4c133]"],[1,"fa-solid","fa-envelope-open-text","text-white","text-2xl"],[1,"text-3xl","font-bold","tracking-tight","text-white"],[1,"inline-flex","items-center","px-6","py-2.5","bg-gradient-to-r","from-[#57c4c1]","to-[#2b8381]","text-white","text-sm","font-medium","rounded-xl","hover:from-[#4bb6b3]","hover:to-[#27928f]","focus:outline-none","focus:ring-2","focus:ring-[#57c4c1]","disabled:opacity-50","transition-all","duration-200","shadow-md","shadow-[#57c4c133]",3,"click","disabled"],["class","fa-solid fa-spinner animate-spin mr-2",4,"ngIf"],["class","fa-solid fa-rotate-right mr-2",4,"ngIf"],["class","flex flex-col items-center justify-center py-16",4,"ngIf"],["class","bg-[#2a1212] border border-red-600 rounded-xl p-6 text-center shadow-md shadow-red-900/30",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",4,"ngIf"],[1,"fa-solid","fa-spinner","animate-spin","mr-2"],[1,"fa-solid","fa-rotate-right","mr-2"],[1,"flex","flex-col","items-center","justify-center","py-16"],[1,"bg-[#2a1212]","border","border-red-600","rounded-xl","p-6","text-center","shadow-md","shadow-red-900/30"],[1,"fa-solid","fa-triangle-exclamation","text-red-500","text-4xl","mb-3"],[1,"text-red-400","font-medium","mb-4"],[1,"inline-flex","items-center","px-5","py-2","bg-red-600","text-white","text-sm","font-medium","rounded-lg","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-red-400","transition",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","xl:grid-cols-3","gap-6"],["class","col-span-full bg-[#0f1a19]/70 rounded-2xl shadow-inner border border-[#1f2f2e] p-12 text-center",4,"ngIf"],["class","bg-[#0f1a19]/80 border border-[#1e2f2d] rounded-2xl shadow-lg hover:shadow-[#57c4c133] transition-all duration-300 overflow-hidden",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-span-full","bg-[#0f1a19]/70","rounded-2xl","shadow-inner","border","border-[#1f2f2e]","p-12","text-center"],[1,"fa-regular","fa-envelope","text-6xl","text-gray-500","mb-4"],[1,"text-xl","font-semibold","mb-2","text-gray-200"],[1,"text-gray-400"],[1,"bg-[#0f1a19]/80","border","border-[#1e2f2d]","rounded-2xl","shadow-lg","hover:shadow-[#57c4c133]","transition-all","duration-300","overflow-hidden"],[1,"p-5","border-b","border-[#1e2f2d]","flex","items-center","justify-between"],[1,"w-12","h-12","bg-gradient-to-r","from-[#57c4c1]","to-[#2b8381]","rounded-full","flex","items-center","justify-center","mr-4","shadow-md","shadow-[#57c4c133]"],[1,"text-white","font-semibold","text-lg"],[1,"text-lg","font-semibold","text-white"],[1,"text-gray-400","text-sm"],[1,"fa-regular","fa-envelope","mr-1"],[1,"text-right","text-xs","text-gray-400"],[1,"bg-[#1b2827]","px-2","py-1","rounded-full","inline-block","font-mono","text-[#57c4c1]"],[1,"mt-1"],[1,"p-5","space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"block","text-xs","text-gray-400","uppercase","font-semibold","mb-1"],[1,"text-sm","text-gray-100","bg-[#1b2827]","px-3","py-2","rounded-md","flex","items-center","gap-1"],[1,"fa-solid","fa-phone","text-[#57c4c1]"],[1,"text-sm","text-white","bg-gradient-to-r","from-green-500","to-green-600","px-3","py-2","rounded-md","text-center","font-medium","shadow-md"],[1,"block","text-xs","text-gray-400","uppercase","font-semibold","mb-2"],[1,"bg-[#1b2827]","border","border-[#1e2f2d]","rounded-md","p-3","text-sm","text-gray-100","min-h-[70px]","max-h-[140px]","overflow-y-auto"]],template:function(t,s){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l(4,"i",4),a(),r(5,"h1",5),o(6),m(7,"translate"),a()(),r(8,"button",6),b("click",function(){return s.onRefresh()}),f(9,L,1,0,"i",7)(10,z,1,0,"i",8),o(11),m(12,"translate"),a()(),f(13,Y,2,0,"div",9)(14,q,7,4,"div",10)(15,Q,3,3,"div",11),a()),t&2&&(n(6),d(" ",p(7,8,"ADMIN.CONTACT_US.TITLE")," "),n(2),c("disabled",s.loading),n(),c("ngIf",s.loading),n(),c("ngIf",!s.loading),n(),d(" ",p(12,10,"COMPONENTS.BUTTONS.REFRESH")," "),n(2),c("ngIf",s.loading),n(),c("ngIf",s.error&&!s.loading),n(),c("ngIf",!s.loading&&!s.error))},dependencies:[N,k,D,j,H,R],styles:[".message-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.message-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse-custom[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}.contact-card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.contact-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}[dir=rtl][_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{direction:rtl}[dir=rtl][_ngcontent-%COMP%]   .contact-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .contact-avatar[_ngcontent-%COMP%]{margin-right:0;margin-left:16px}@media print{.contact-card[_ngcontent-%COMP%]{break-inside:avoid;box-shadow:none;border:1px solid #e2e8f0}}"]})};export{$ as AdminContactUs};
